Ansible role for Nagios setup

Sample playbook:
---
# generate rbl_ip_list with an external script on ansible host
# vars file is saved on the path rbl_list_path
- hosts: ansible.hostname
  roles:
    - role: nagios
      rbl_ip_list_create: true
      rbl_ip_list_path: /path/to/inventory/vars/nagios_rbl_ip_list
      rbl_ip_list_owner: user running ansible
	  nrpe_prefix: text to use as prefix for nrpe commands and nrpe commands file on monitorized hosts

- hosts: linux
  roles:
    - role: nagios

Usage:

- For rbl ip check, the nagios_rbl_ip_list list with cidr notation is read, so
  a script is executed on the same host that ansible runs. This script creates
  a yaml file with a list (nagios_rbl_ip_list_generated) which is then sourced
  and used within the role. See above on the sample playbook, the path will be
  sourced later and used.
- Nagios server is specified with the host variable 'nagios_server' set to true
- Nagios server is specified setting the variable nagios_server=True on the host
